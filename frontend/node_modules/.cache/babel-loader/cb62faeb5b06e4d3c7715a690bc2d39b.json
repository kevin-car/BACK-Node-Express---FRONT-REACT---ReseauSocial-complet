{"ast":null,"code":"var _jsxFileName = \"/Users/kevincarpentier/Library/Mobile Documents/com~apple~CloudDocs/Sites /PRojet 7 v2/frontend/src/container/connexion/inscription/inscription.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { withFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Input from \"../../../components/bouton/input\";\nimport Bouton from \"../../../components/bouton/bouton\";\nimport { Link } from \"react-router-dom\";\nimport \"./inscription.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Inscription extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      fileSelected: \"\",\n      fileSelectedName: \"\"\n    };\n\n    this.fileSelected = event => {\n      // mettre l'image dans le state pour l'affichage de l'aperçu\n      this.props.values.fileSelected = URL.createObjectURL(event.target.files[0]);\n      this.setState({\n        fileSelected: URL.createObjectURL(event.target.files[0])\n      }); // mettre le nom de l'image dans le state pour le renvoyer au composant supérieur \n\n      const File = event.target.files[0];\n      this.props.values.fileSelectedName = {\n        File\n      };\n      this.setState({\n        fileSelectedName: File\n      });\n    };\n\n    this.handleDeletePhoto = () => {\n      this.myFormRef.reset();\n      this.setState({\n        fileSelected: \"\"\n      });\n      this.setState({\n        fileSelectedName: \"\"\n      });\n      this.props.values.fileSelected = \"\";\n      this.props.values.fileSelectedName = \"\";\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid text-center \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" container col-7\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"http://localhost:8000/images/utils/icon-left-font-monochrome-white.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container col-lg-6 col-md-10 col-sm-12\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-success \",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \" FORMULAIRE D'INSCRIPTION\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group \",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputEmail1\",\n                className: \"form-label mt-4\",\n                children: \"Adresse Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.props.handleChange,\n                onBlur: this.props.handleBlur,\n                value: this.props.values.adresseMail,\n                name: \"adresseMail\",\n                type: \"email\",\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\",\n                placeholder: \"example@mail.com\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 29\n              }, this), this.props.touched.adresseMail && this.props.errors.adresseMail && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: [\" \", this.props.errors.adresseMail]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 97\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"pseudonyme\",\n                className: \"form-label mt-4\",\n                children: \"Pseudonyme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.props.handleChange,\n                onBlur: this.props.handleBlur,\n                value: this.props.values.pseudonyme,\n                name: \"pseudonyme\",\n                type: \"email\",\n                className: \"form-control\",\n                id: \"exampleInputEmail1\",\n                \"aria-describedby\": \"emailHelp\",\n                placeholder: \"example@mail.com\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 29\n              }, this), this.props.touched.pseudonyme && this.props.errors.pseudonyme && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: [\" \", this.props.errors.pseudonyme]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 96\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputPassword\",\n                className: \"form-label mt-4\",\n                children: \"Mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.props.handleChange,\n                onBlur: this.props.handleBlur,\n                value: this.props.values.password,\n                name: \"password\",\n                type: \"password\",\n                className: \"form-control\",\n                id: \"exampleInputPassword1\",\n                placeholder: \"azerTY%1230e\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 29\n              }, this), this.props.touched.password && this.props.errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: [\" \", this.props.errors.password]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 91\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputPassword2\",\n                className: \"form-label mt-4\",\n                children: \"Confirmez votre mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.props.handleChange,\n                onBlur: this.props.handleBlur,\n                value: this.props.values.password2,\n                name: \"password2\",\n                type: \"password\",\n                className: \"form-control\",\n                id: \"exampleInputPassword1\",\n                placeholder: \"azerTY%1230e\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this), this.props.touched.password2 && this.props.errors.password2 && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: [\" \", this.props.errors.password2]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 93\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleTextarea\",\n                className: \"form-label mt-4\",\n                children: \"Biographie\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                onChange: this.props.handleChange,\n                onBlur: this.props.handleBlur,\n                value: this.props.values.textPresentation,\n                name: \"textPresentation\",\n                className: \"form-control\",\n                id: \"exampleTextarea\",\n                rows: \"3\",\n                placeholder: \"Parlez nous un petit peu de vous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"formFile\",\n                className: \"form-label mt-4\",\n                children: \"Photo de profil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                ref: el => this.myFormRef = el,\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"file\",\n                  onChange: event => this.fileSelected(event),\n                  name: \"photo\",\n                  className: \"form-control\",\n                  id: \"formFile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 29\n              }, this), this.state.fileSelected && /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"photoMessage\",\n                src: this.state.fileSelected\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 57\n              }, this), this.state.fileSelected && /*#__PURE__*/_jsxDEV(\"i\", {\n                onClick: this.handleDeletePhoto,\n                className: \"fas fa-times align-top\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                className: \"mt-4\",\n                children: \"Sexe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    value: \"Homme\",\n                    onChange: this.props.handleChange,\n                    type: \"radio\",\n                    className: \"form-check-input\",\n                    name: \"sexe\",\n                    id: \"optionsRadios1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 37\n                  }, this), \"Homme\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    value: \"Femme\",\n                    onChange: this.props.handleChange,\n                    type: \"radio\",\n                    className: \"form-check-input\",\n                    name: \"sexe\",\n                    id: \"optionsRadios2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 37\n                  }, this), \"Femme\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 29\n              }, this), this.props.touched.sexe && this.props.errors.sexe && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: [\" \", this.props.errors.sexe]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 83\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary \",\n                onClick: this.props.handleSubmit,\n                children: \"S'INSCRIRE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/accueil/\",\n                children: /*#__PURE__*/_jsxDEV(Bouton, {\n                  className: \"color-white\",\n                  couleur: \"secondary\",\n                  type: \"button\",\n                  children: \"RETOUR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default withFormik({\n  mapPropsToValues: () => ({\n    adresseMail: \"\",\n    pseudonyme: \"\",\n    password: \"\",\n    password2: \"\",\n    textPresentation: \"\",\n    photo: \"\",\n    sexe: \"\"\n  }),\n  validationSchema: Yup.object().shape({\n    adresseMail: Yup.string().email(\"ceci n'est pas un type d'email reconnu\").required(\"l'adresse mail est obligatoire\"),\n    pseudonyme: Yup.string().min(3, \"Pas assez de caractères\").max(16, \"Trop de caractères\").required(\"le pseudonyme est obligatoire\"),\n    password: Yup.string().min(3, \"Pas assez de caractères\").max(16, \"Trop de caractères\").required(\"le mot de passe est obligatoire\"),\n    password2: Yup.string().oneOf([Yup.ref('password'), null], 'Les 2 mots de passe ne correspondent pas').required(\"la confirmation du mot de passe est obligatoire\"),\n    textPresentation: Yup.string().max(256, \"votre description est trop grande\"),\n    sexe: Yup.string().required(\"merci de renseigner votre sexe\")\n  }),\n  handleSubmit: (values, {\n    props\n  }) => {\n    if (!values.fileSelected) {\n      const newUser = {\n        \"adresseMail\": values.adresseMail,\n        \"pseudonyme\": values.pseudonyme,\n        \"password\": values.password,\n        \"textPresentation\": values.textPresentation,\n        \"photoPresentation\": values.photo,\n        \"sexe\": values.sexe\n      }; // Vérifier que l'adresse mail ne soit pas déjà présente dans notre BDD \n\n      axios.post(\"http://localhost:8000/User/new\", newUser).then(res => {\n        console.log(res.status);\n\n        if (res.status === 200) {\n          /* this.props.history.replace(\"/\") */\n          window.location.replace(\"http://localhost:3000/\");\n        }\n      }).catch(error => {\n        if (error.request.status === 406) {\n          alert(\"Cette adresse mail est déjà utilisée, merci d'en choisir une nouvelle\");\n        }\n      });\n    }\n\n    if (values.fileSelected) {\n      const ImageName = Date.now() + values.fileSelectedName.File.name.split(\" \").join(\"_\");\n      console.log(\"ImageName\", ImageName);\n      const fd = new FormData();\n      fd.append('image', values.fileSelectedName.File, ImageName);\n      console.log('fd', fd);\n      axios.post(\"http://localhost:8000/uploadPhoto/\", fd).then(res => {\n        // J'utilise le retour de cette image \n        console.log(\"1er retour : \", res);\n        const nomImage = values.fileSelectedName.File.name;\n        console.log(nomImage);\n        const newUser = {\n          \"adresseMail\": values.adresseMail,\n          \"pseudonyme\": values.pseudonyme,\n          \"password\": values.password,\n          \"textPresentation\": values.textPresentation,\n          \"photoPresentation\": res.data.nom,\n          \"sexe\": values.sexe\n        };\n        axios.post(\"http://localhost:8000/User/new\", newUser).then(res => {\n          console.log(res.status);\n\n          if (res.status === 200) {\n            /* this.props.history.replace(\"/\") */\n            window.location.replace(\"http://localhost:3000/\");\n          }\n        }).catch(resp => {\n          if (res.status === 406) alert('Cet adresse Email est déjà utilisée');\n          console.log(resp.error);\n        });\n      });\n    }\n  }\n})(Inscription);","map":{"version":3,"sources":["/Users/kevincarpentier/Library/Mobile Documents/com~apple~CloudDocs/Sites /PRojet 7 v2/frontend/src/container/connexion/inscription/inscription.js"],"names":["React","axios","withFormik","Yup","Input","Bouton","Link","Inscription","Component","state","fileSelected","fileSelectedName","event","props","values","URL","createObjectURL","target","files","setState","File","handleDeletePhoto","myFormRef","reset","render","handleChange","handleBlur","adresseMail","touched","errors","color","pseudonyme","password","password2","textPresentation","el","sexe","handleSubmit","mapPropsToValues","photo","validationSchema","object","shape","string","email","required","min","max","oneOf","ref","newUser","post","then","res","console","log","status","window","location","replace","catch","error","request","alert","ImageName","Date","now","name","split","join","fd","FormData","append","nomImage","data","nom","resp"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\"\nimport {withFormik} from \"formik\"\nimport * as Yup from \"yup\"\nimport Input from \"../../../components/bouton/input\";\nimport Bouton from \"../../../components/bouton/bouton\";\nimport { Link } from \"react-router-dom\";\nimport \"./inscription.css\"\n\nclass Inscription extends React.Component {\n\n    state = {\n        fileSelected : \"\",\n        fileSelectedName : \"\"\n    }  \n\n    fileSelected = (event) => {\n        // mettre l'image dans le state pour l'affichage de l'aperçu\n       this.props.values.fileSelected = URL.createObjectURL(event.target.files[0])\n       this.setState({fileSelected : URL.createObjectURL(event.target.files[0])})\n\n       // mettre le nom de l'image dans le state pour le renvoyer au composant supérieur \n       const File = (event.target.files[0])\n       this.props.values.fileSelectedName = {\n        File\n       } \n       this.setState({fileSelectedName : File})\n    }\n\n    handleDeletePhoto = () => {\n        this.myFormRef.reset();\n        this.setState({fileSelected : \"\"})\n        this.setState({fileSelectedName : \"\"})\n        this.props.values.fileSelected = \"\"\n        this.props.values.fileSelectedName = \"\"\n    }\n\n    render(){\n        return(\n            <>\n                            {/* le logo */}\n                <div className=\"container-fluid text-center \">\n                    <div className=\"row\">\n                        <div className=\" container col-7\">\n                            <img src=\"http://localhost:8000/images/utils/icon-left-font-monochrome-white.png\" alt=\"\" />\n                        </div>\n                    </div>\n                </div>\n\n            <div className=\"container col-lg-6 col-md-10 col-sm-12\">\n                <form>\n                    <fieldset>\n                    <div className=\"text-center text-success \">\n                        <h2> FORMULAIRE D'INSCRIPTION</h2>\n                    </div>  \n                        <div className=\"form-group \">\n                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label mt-4\">Adresse Email</label>\n                            <input onChange={this.props.handleChange} onBlur={this.props.handleBlur} value={this.props.values.adresseMail} name=\"adresseMail\"  type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"example@mail.com\"/>\n                            {this.props.touched.adresseMail && this.props.errors.adresseMail && <span style={{color:\"red\"}}> {this.props.errors.adresseMail}</span>}\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"pseudonyme\" className=\"form-label mt-4\">Pseudonyme</label>\n                            <input onChange={this.props.handleChange} onBlur={this.props.handleBlur} value={this.props.values.pseudonyme} name=\"pseudonyme\" type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"example@mail.com\"/>\n                            { this.props.touched.pseudonyme && this.props.errors.pseudonyme && <span style={{color:\"red\"}}> {this.props.errors.pseudonyme}</span>}\n\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"exampleInputPassword\" className=\"form-label mt-4\">Mot de passe</label>\n                            <input onChange={this.props.handleChange} onBlur={this.props.handleBlur} value={this.props.values.password} name=\"password\"  type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"azerTY%1230e\"/>\n                            {this.props.touched.password && this.props.errors.password && <span style={{color:\"red\"}}> {this.props.errors.password}</span>}\n\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"exampleInputPassword2\" className=\"form-label mt-4\">Confirmez votre mot de passe</label>\n                            <input onChange={this.props.handleChange} onBlur={this.props.handleBlur} value={this.props.values.password2} name=\"password2\" type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"azerTY%1230e\"/>\n                            {this.props.touched.password2 && this.props.errors.password2 && <span style={{color:\"red\"}}> {this.props.errors.password2}</span>}\n\n                        </div>\n                        <div className=\"form-group\">\n                        </div>\n                        <div className=\"form-group\">\n                            <label  htmlFor=\"exampleTextarea\" className=\"form-label mt-4\" >Biographie</label>\n                            <textarea onChange={this.props.handleChange} onBlur={this.props.handleBlur} value={this.props.values.textPresentation} name=\"textPresentation\" className=\"form-control\" id=\"exampleTextarea\" rows=\"3\" placeholder=\"Parlez nous un petit peu de vous\"></textarea>\n                        </div>\n                        {/* Sous bloc photo de profil */}\n                        <div className=\"form-group\">\n                            <label htmlFor=\"formFile\" className=\"form-label mt-4\">Photo de profil</label>\n                            <form ref={(el) => this.myFormRef = el}>\n                                <Input type=\"file\" onChange={event => this.fileSelected(event)} name=\"photo\" className=\"form-control\" id=\"formFile\" /> \n                            </form>\n                            \n                            {this.state.fileSelected && <img alt='photoMessage' src={this.state.fileSelected } /> }\n                            {this.state.fileSelected && <i onClick={this.handleDeletePhoto} className=\"fas fa-times align-top\"></i>}\n                        </div>\n\n                        <fieldset className=\"form-group\">\n                            <legend className=\"mt-4\">Sexe</legend>\n                            <div className=\"form-check\">\n                                <label className=\"form-check-label\">\n                                    <input value=\"Homme\" onChange={this.props.handleChange} type=\"radio\" className=\"form-check-input\" name=\"sexe\" id=\"optionsRadios1\" />\n                                        Homme\n                                </label>\n                            </div>\n                            <div className=\"form-check\">\n                                <label className=\"form-check-label\">\n                                    <input value='Femme'  onChange={this.props.handleChange} type=\"radio\" className=\"form-check-input\" name=\"sexe\" id=\"optionsRadios2\" />\n                                        Femme\n                                </label>\n                            </div>\n                            {this.props.touched.sexe && this.props.errors.sexe && <span style={{color:\"red\"}}> {this.props.errors.sexe}</span>}\n                        </fieldset>\n                        <div className='mt-3'>\n                        <button type=\"submit\" className=\"btn btn-primary \" onClick={this.props.handleSubmit}>S'INSCRIRE</button>\n                                <Link to=\"/accueil/\"> \n                                    <Bouton className=\"color-white\" couleur=\"secondary\" type=\"button\"  > \n                                        RETOUR\n                                    </Bouton>\n                                </Link>\n                        </div>\n \n                    </fieldset>\n                </form>\n            </div>\n        </>\n        )\n    }\n}\n\nexport default withFormik({\n    mapPropsToValues : () => ({\n        adresseMail : \"\",\n        pseudonyme : \"\",\n        password : \"\", \n        password2: \"\", \n        textPresentation : \"\", \n        photo : \"\", \n        sexe : \"\"\n    }),\n    validationSchema : Yup.object().shape({\n        adresseMail : Yup.string()\n        .email(\"ceci n'est pas un type d'email reconnu\")\n        .required(\"l'adresse mail est obligatoire\"),\n        pseudonyme : Yup.string()\n        .min(3, \"Pas assez de caractères\")\n        .max(16, \"Trop de caractères\")\n        .required(\"le pseudonyme est obligatoire\"),\n        password : Yup.string()\n        .min(3, \"Pas assez de caractères\")\n        .max(16, \"Trop de caractères\")\n        .required(\"le mot de passe est obligatoire\"),\n        password2: Yup.string()\n        .oneOf([Yup.ref('password'), null], 'Les 2 mots de passe ne correspondent pas')\n        .required(\"la confirmation du mot de passe est obligatoire\"),\n        textPresentation: Yup.string()\n        .max(256, \"votre description est trop grande\"),\n        sexe: Yup.string()\n        .required(\"merci de renseigner votre sexe\")\n        })  \n\n    ,\n    handleSubmit:(values, {props}) => {\n        if(!values.fileSelected){\n            const newUser = {\n                \"adresseMail\" : values.adresseMail,\n                \"pseudonyme\" : values.pseudonyme,\n                \"password\" : values.password,\n                \"textPresentation\": values.textPresentation,\n                \"photoPresentation\": values.photo,\n                \"sexe\": values.sexe\n            }   \n            // Vérifier que l'adresse mail ne soit pas déjà présente dans notre BDD \n                    \n            axios.post(\"http://localhost:8000/User/new\", newUser)\n            .then (res => {\n                console.log(res.status)\n                if(res.status === 200){\n                    /* this.props.history.replace(\"/\") */\n                    window.location.replace(\"http://localhost:3000/\")            \n                }\n            })\n            .catch(error => {\n                if(error.request.status === 406) {\n\n                alert(\"Cette adresse mail est déjà utilisée, merci d'en choisir une nouvelle\")\n                }\n            })\n        }\n        if(values.fileSelected) {\n                const ImageName = Date.now() + values.fileSelectedName.File.name.split(\" \").join(\"_\")\n                console.log(\"ImageName\" , ImageName)\n                const fd = new FormData()\n                fd.append('image', values.fileSelectedName.File, ImageName)\n                console.log('fd', fd)\n                \n                axios.post(\"http://localhost:8000/uploadPhoto/\", fd )\n                .then(res => { // J'utilise le retour de cette image \n                    console.log(\"1er retour : \",res)\n                    const nomImage = values.fileSelectedName.File.name\n                    console.log(nomImage)\n\n                    const newUser = {\n                        \"adresseMail\" : values.adresseMail,\n                        \"pseudonyme\" : values.pseudonyme,\n                        \"password\" : values.password,\n                        \"textPresentation\": values.textPresentation,\n                        \"photoPresentation\": res.data.nom,\n                        \"sexe\": values.sexe,\n                    }                                                 \n                    axios.post(\"http://localhost:8000/User/new\", newUser)\n                    .then (res => {\n                        console.log(res.status)\n                        if(res.status === 200){\n                            /* this.props.history.replace(\"/\") */\n                            window.location.replace(\"http://localhost:3000/\")            \n                        }\n                    })\n                    .catch(resp => {\n                        if(res.status === 406)\n                        alert('Cet adresse Email est déjà utilisée')\n                        console.log(resp.error)\n                    })\n                })\n        }\n    }\n\n    \n    })(Inscription)"]},"metadata":{},"sourceType":"module"}