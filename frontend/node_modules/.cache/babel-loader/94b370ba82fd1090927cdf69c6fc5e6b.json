{"ast":null,"code":"var _jsxFileName = \"/Users/kevincarpentier/Library/Mobile Documents/com~apple~CloudDocs/Sites /PRojet 7 v2/frontend/src/container/pageProfil/updatePassword/updatePassword.js\";\nimport React from \"react\";\nimport { withFormik } from \"formik\";\nimport axios from \"axios\";\nimport * as Yup from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass UpdatePassword extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container col-lg-6 col-md-10 p-4 col-sm-12 card border-success mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mt-4 text-center text-success\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \" MODIFIER SON MOT DE PASSE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 13,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 12,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputPassword\",\n                className: \"form-label mt-4\",\n                children: \"Taper votre ancien mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 18,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.props.handleChange,\n                name: \"passwordConfirm1\",\n                type: \"text\",\n                className: \"form-control me-sm-2\",\n                id: \"passwordConfirm1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 19,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 16,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputPassword\",\n                className: \"form-label mt-4\",\n                children: \"Tapez votre nouveau mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 26,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.props.handleChange,\n                onBlur: this.props.handleBlur,\n                value: this.props.values.password,\n                name: \"password\",\n                type: \"password\",\n                className: \"form-control\",\n                id: \"password\",\n                placeholder: \"Entrer un mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 29\n              }, this), this.props.errors.password && this.props.touched.password && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: [\" \", this.props.errors.password]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 91\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleInputPassword2\",\n                className: \"form-label mt-4\",\n                children: \"Confirmez votre nouveau mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.props.handleChange,\n                onBlur: this.props.handleBlur,\n                value: this.props.values.password2,\n                name: \"password2\",\n                type: \"password\",\n                className: \"form-control\",\n                id: \"password2\",\n                placeholder: \"Confirmez le mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 32,\n                columnNumber: 29\n              }, this), this.props.errors.password2 && this.props.touched.password && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: [\" \", this.props.errors.password2]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 93\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"mt-4\",\n                  onClick: this.props.handleSubmit,\n                  type: \"button\",\n                  className: \"btn btn-primary\",\n                  children: \"VALIDER\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 35,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 34,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default withFormik({\n  mapPropsToValues: () => ({\n    password: \"\",\n    password2: \"\",\n    confirmPassword1: \"\"\n  }),\n  validationSchema: Yup.object().shape({\n    password: Yup.string().required(\"Pour modifier votre mot de passe, entrez votre nouveau mot de passe ici\").min(3, \"Pas assez de caractères\").max(16, \"Trop de caractères\"),\n    password2: Yup.string().oneOf([Yup.ref('password'), null], 'Les 2 mots de passe ne correspondent pas').required(\"Merci de confirmer votre nouveau mot de passe ici ! \")\n  }),\n  handleSubmit: (values, {\n    props\n  }) => {\n    const id = localStorage.id;\n    const password = {\n      oldPassword: this.props.values.confirmPassword1,\n      password: values.password\n    };\n    axios.post(`http://localhost:8000/updatePassword/${id}`, password, {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"token\"),\n        \"id\": localStorage.getItem(\"id\")\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        alert(\"Votre mot de passe vient d'être modifié\");\n        console.log(res);\n      }\n    });\n  }\n})(UpdatePassword);","map":{"version":3,"sources":["/Users/kevincarpentier/Library/Mobile Documents/com~apple~CloudDocs/Sites /PRojet 7 v2/frontend/src/container/pageProfil/updatePassword/updatePassword.js"],"names":["React","withFormik","axios","Yup","UpdatePassword","Component","render","props","handleChange","handleBlur","values","password","errors","touched","color","password2","handleSubmit","mapPropsToValues","confirmPassword1","validationSchema","object","shape","string","required","min","max","oneOf","ref","id","localStorage","oldPassword","post","headers","getItem","then","res","status","alert","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {withFormik} from \"formik\"\nimport axios from \"axios\";\nimport * as Yup from \"yup\"\n\nclass UpdatePassword extends React.Component {\n    render(){\n        return(\n        <>\n            <div className='container col-lg-6 col-md-10 p-4 col-sm-12 card border-success mb-3'>\n                <fieldset>\n                    <div className=\" mt-4 text-center text-success\">\n                        <h2> MODIFIER SON MOT DE PASSE</h2>\n                    </div>  \n\n                    <div className='container'>\n                        <div className=\"form-group\">\n                        <label htmlFor=\"exampleInputPassword\" className=\"form-label mt-4\">Taper votre ancien mot de passe</label>\n                                <input onChange={this.props.handleChange} name=\"passwordConfirm1\" type=\"text\" className=\"form-control me-sm-2\" id=\"passwordConfirm1\" />\n                        </div>\n                    </div>\n\n                    \n                    <div className='container'>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"exampleInputPassword\" className=\"form-label mt-4\">Tapez votre nouveau mot de passe</label>\n                            <input onChange={this.props.handleChange} onBlur={this.props.handleBlur} value={this.props.values.password} name=\"password\"  type=\"password\" className=\"form-control\" id=\"password\"  placeholder=\"Entrer un mot de passe\"/>\n                            {this.props.errors.password && this.props.touched.password && <span style={{color:\"red\"}}> {this.props.errors.password}</span>}\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"exampleInputPassword2\" className=\"form-label mt-4\">Confirmez votre nouveau mot de passe</label>\n                            <input onChange={this.props.handleChange} onBlur={this.props.handleBlur} value={this.props.values.password2}  name='password2' type=\"password\" className=\"form-control\" id=\"password2\" placeholder=\"Confirmez le mot de passe\"/>\n                            { this.props.errors.password2 && this.props.touched.password && <span style={{color:\"red\"}}> {this.props.errors.password2}</span>}\n                            <div className=\"mt-4\">\n                                <button className=\"mt-4\" onClick={this.props.handleSubmit} type=\"button\" className=\"btn btn-primary\">VALIDER</button>\n                        </div>\n\n                        </div>\n                    </div>\n                </fieldset>\n            </div>\n        </>\n        )\n    }\n}\n\n\n\nexport default withFormik({\n\n    mapPropsToValues : () => ({\n        password : \"\", \n        password2 : \"\",\n        confirmPassword1: \"\"\n    }),\n    validationSchema : Yup.object().shape({\n        password : Yup.string()\n        .required(\"Pour modifier votre mot de passe, entrez votre nouveau mot de passe ici\")\n        .min(3, \"Pas assez de caractères\")\n        .max(16, \"Trop de caractères\"),\n        password2: Yup.string()\n        .oneOf([Yup.ref('password'), null], 'Les 2 mots de passe ne correspondent pas')\n        .required(\"Merci de confirmer votre nouveau mot de passe ici ! \")\n    }),\n    handleSubmit : (values, {props}) => {\n\n        const id = localStorage.id\n        const password = { oldPassword : this.props.values.confirmPassword1, password : values.password}\n        axios.post(`http://localhost:8000/updatePassword/${id}`, password, {headers: {\"x-access-token\": localStorage.getItem(\"token\"), \"id\": localStorage.getItem(\"id\")} })\n            .then(res => {\n                if(res.status === 200) {\n                    alert(\"Votre mot de passe vient d'être modifié\")\n                    console.log(res)\n                }\n\n            })\n    }\n    })(UpdatePassword)"]},"metadata":{},"sourceType":"module"}